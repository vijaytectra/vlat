<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test Results - VLAT</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />

    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />

    <!-- Compiled Tailwind CSS -->
    <link rel="stylesheet" href="css/main.css?v=2.0" />
  </head>

  <body class="font-['Inter'] bg-[#F3F4F6] min-h-screen">
    <!-- Main Container -->
    <div class="w-full min-h-screen py-4 sm:py-5 md:py-6 px-4">
      <!-- HEADER -->
      <header class="bg-[#FFFFFF] border border-[#D4D4D4] rounded-3xl">
        <div
          class="max-w-6xl rounded-3xl mx-auto px-5 py-3 flex flex-wrap items-center justify-between gap-4"
        >
          <!-- Logo -->
          <div class="flex items-center gap-3">
            <img src="images/vmlsvlatlogoheader.svg" class="h-10" alt="VMLS" />
          </div>

          <!-- Right -->
          <div class="flex items-center gap-4">
            <!-- Language Switcher -->
            <div
              class="language-switcher flex items-center gap-0 border border-grey-5 rounded-lg overflow-hidden bg-white"
            >
                <button
                  data-lang="en"
                  class="lang-btn px-3 py-1.5 text-sm font-medium transition-colors active"
                >
                  English
                </button>
                <button
                  data-lang="ta"
                  class="lang-btn px-3 py-1.5 text-sm font-medium transition-colors inactive"
                >
                  ‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç
              </button>
            </div>
            <img
              src="images/vmrflogo.svg"
              class="h-8 hidden md:block"
              alt="VMLS"
              data-i18n-alt="common.alt.vmrfLogo"
            />
            <span
              id="userNameHeader"
              class="text-sm border border-[#D4D4D4] p-2 rounded-full text-[#171717] hidden sm:block"
              >S. Sathiya</span
            >
            <button
              id="logoutButton"
              class="px-3 py-1.5 text-sm border border-primary text-primary rounded-lg hover:bg-primary hover:text-white transition"
              data-i18n="common.buttons.logout"
            >
              Logout
            </button>
          </div>
        </div>
      </header>

      <!-- Main Content -->
      <div
        class="w-full max-w-7xl flex flex-col space-y-4 sm:space-y-6 mx-auto mt-5 px-2 sm:px-4"
      >
        <div class="bg-[#404040] p-3 sm:p-4 rounded-[28px]">
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6">
            <!-- LEFT CARD -->
            <div
              class="relative bg-[#737373] rounded-[24px] p-6 sm:p-8 h-[260px] md:h-[320px] overflow-hidden"
            >
              <!-- Trophy badge (FIXED) -->
              <div
                class="absolute top-7 right-4 md:right-6 bg-[#525252] rounded-xl p-3 flex items-center justify-center"
              >
                <i class="fa-solid fa-trophy text-[#FAFAFA] text-xl"></i>
              </div>
              <!-- Trophy watermark -->

              <!-- Content wrapper -->
              <div class="relative h-full flex flex-col justify-between">
                <!-- Top content -->
                <div>
                  <p class="text-grey-4 text-sm mb-1" data-i18n="pages.results.testName">Test Name</p>
                  <h2
                    id="testName"
                    class="text-white text-xl font-semibold leading-tight max-w-[85%]"
                  >
                    Mock Test 3: Advanced Topics
                  </h2>
                </div>

                <!-- Bottom message -->
                <div id="motivationalMessage">
                  <h3
                    id="motivationalTitle"
                    class="text-white text-base sm:text-2xl font-semibold mb-1"
                  >
                    Keep Practicing! üí™
                  </h3>
                  <p
                    id="motivationalText"
                    class="text-grey-3 text-sm sm:text-base max-w-[90%]"
                  >
                    Don't worry! Every attempt makes you stronger. Review and
                    try again!
                  </p>
                </div>
              </div>
            </div>

            <!-- RIGHT CARD -->
            <div class="relative overflow-hidden">
              <div
                class="relative bg-[#737373] rounded-[24px] p-6 sm:p-8 h-[260px] md:h-[320px] overflow-hidden"
              >
                <!-- Trophy watermark -->
                <i
                  class="fa-solid rotate-45 fa-trophy absolute top-2 left-10 md:left-28 text-[#FFF6E2] text-[72px] opacity-10"
                ></i>

                <!-- Centered score -->
                <div
                  class="relative h-full flex flex-col items-center justify-center text-center"
                >
                  <p class="text-grey-4 text-sm mb-2" data-i18n="pages.results.yourScore">Your Score</p>
                  <div
                    id="scoreDisplay"
                    class="text-white text-5xl sm:text-6xl font-bold leading-none mb-3"
                  >
                    23%
                  </div>
                  <p id="scoreDetails" class="text-white text-sm sm:text-base">
                    15 out of 40 questions correct
                  </p>
                </div>

                <i
                  class="fa-solid fa-trophy absolute top-10 text-[80px] md:text-[120px] -rotate-[30deg] right-2 overflow-hidden text-[#FFF6E2] opacity-10"
                ></i>
              </div>
              <i
                class="fa-solid fa-trophy absolute -bottom-10 text-[110px] md:text-[180px] rotate-[30deg] -left-6 overflow-hidden text-[#FFF6E2] opacity-10"
              ></i>
            </div>
          </div>
        </div>

        <!-- Action Buttons -->
        <div
          class="flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center mb-6"
        >
          <div class="w-full flex justify-between gap-5 xl:flex-row flex-col">
            <!-- Retake Test Button -->
            <button
              id="retakeTestBtn"
              onclick="handleRetakeTest()"
              class="px-4 py-2 w-full sm:px-6 bg-white border border-[#404040] text-grey-10 rounded-lg hover:bg-grey-2 transition font-medium flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base"
            >
              <i class="fa-solid fa-redo"></i>
              <span id="retakeTestText" data-i18n="pages.results.retakeTest">Retake Test</span>
            </button>

            <!-- Next Test Button -->
            <button
              id="nextTestBtn"
              onclick="handleNextTest()"
              class="px-4 py-2 w-full sm:px-6 bg-white border border-[#404040] text-grey-10 rounded-lg hover:bg-grey-2 transition font-medium flex items-center justify-center gap-2 text-sm sm:text-base"
            >
              <span data-i18n="pages.results.nextTest">Next Test</span>
              <i class="fa-solid fa-arrow-right"></i>
            </button>

            <!-- Review Answers Button -->
            <button
              id="reviewAnswersBtn"
              onclick="handleReviewAnswers()"
              class="px-4 py-2 border border-[#404040] text-xs w-full sm:px-6 py-2 font-light bg-grey-10 text-white rounded-lg hover:bg-grey-9 transition font-medium flex items-center justify-center gap-2 text-sm sm:text-base"
            >
              <i class="fa-solid fa-eye"></i>
              <span data-i18n="pages.results.reviewAnswers">Review Answers</span>
            </button>
          </div>
        </div>

        <!-- Motivational Banner -->
        <div
          class="bg-gradient-to-r from-[#FFFBEB] to-[#FFF7ED] border border-[#FEE685] rounded-xl p-3"
        >
          <p class="text-grey-7 text-sm sm:text-base text-center" data-i18n="pages.results.motivationalBanner">
            Review the explanations to understand where you can improve. You've
            got this!
          </p>
        </div>
      </div>
    </div>

    <!-- Translation System -->
    <script src="js/translations.js"></script>
    <script type="module" src="js/results.js"></script>
    <script>
      // Initialize translations on page load
      document.addEventListener("DOMContentLoaded", async () => {
        if (typeof initializeTranslations === "function") {
          await initializeTranslations();
        }
      });
    </script>
  </body>
</html>
